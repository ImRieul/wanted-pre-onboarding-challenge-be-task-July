## 동시에 같은 DB Table row 를 업데이트 하는 상황을 방어하기 위해 어떻게 개발하실 건지 설명해주세요.

---

MVCC를 지원하는 데이터베이스를 사용할 것입니다. MVCC를 사용하면 동시성 문제가 생기더라도, 데이터의 버전을 관리하여 최신 데이터로 반영합니다.

그럴 수 없다면, 동시성 제어 기법 중 `Exculsive locking`을 사용하여 업데이트 메서드를 구현할 것입니다. Spring boot에서는 `@Lock(LockModeType.PESSIMISTIC_WRITE)` 어노테이션을 사용하여 Exculsive locking을 걸도록 지정합니다.


- 장점
  1. 동시에 같은 데이터를 수정하는 문제를 해결할 수 있음.
  1. 해당 데이터를 수정정하는 동안 다른 사용자가 데이터에 접근할 수 없기 때문에 `데이터의 일관성`을 보장할 수 있음.

- 단점
  1. Lock이 걸려있는 동안 데이터에 접근할 수 없으므로 `성능 저하`가 생길 수 있음.
  1. Lock을 걸고 있는 동안 `다른 작업을 수행할 수 없음`.
  1. `Deadlock`이 발생할 수 있음.
